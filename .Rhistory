setwd("~/src/r-web-scraping")
install.packages("httr")
install.packages("rvest")
# HTTP GET web page
web_page <- html("https://newslab.malaysiakini.com/covid-19/en")
# Install rvest
install.packages("rvest")
# Use rvest
library(rvest)
# HTTP GET web page
web_page <- html("https://newslab.malaysiakini.com/covid-19/en")
web_page
confirmed_cases <- web_page %>%
html_node(".legend-total") %>%
html_text() %>%
as.numeric()
confirmed_cases
web_page
web_page %>%
html_node(".legend-total")
web_page %>%
html_nodes(".legend-total")
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
confirmed_cases <- web_page %>%
html_node(".legend-total") %>%
html_text() %>%
as.numeric()
confirmed_cases
web_page %>%
html_node(".legend-total") %>%
html_text() %>%
as.numeric()
web_page %>%
html_node(".legend-total")
web_page
web_page[1]
web_page %>%
html_node("h1")
web_page %>%
html_nodes("h1")
web_page <- xml2::read_html("https://newslab.malaysiakini.com/covid-19/en")
web
web_page
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
web_page
web_page2 <- html_session("https://newslab.malaysiakini.com/covid-19/en")
web_page2
web_page2 %>% html_nodes(".label-total")
web_page2 %>% html_nodes(".legend-total")
web_page2 %>% html_nodes(".legend")
web_page2
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
web_page
web_page  %>%
install.packages("magrittr")
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
install.packages("dplyr")
library(dplyr)
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
web_page2 <- html_session("https://newslab.malaysiakini.com/covid-19/en")
confirmed_cases <- web_page %>%
html_node(".legend-total") %>%
html_text() %>%
as.numeric()
confirmed_cases
install.packages("dplyr")
install.packages("dplyr")
library(rvest)
library(dplyr)
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
web_page
web_page %>%
html_node(".legend-total")
a <- web_page %>% html_node(".legend-total")
a
a <- web_page %>% html_nodes(".legend-total")
a
web_page
View(web_page)
View(web_page)
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
confirmed_cases <- web_page %>%
html_node(".legend-total") %>%
html_text() %>%
as.numeric()
confirmed_cases
web_page <- read_html("https://newslab.malaysiakini.com/covid-19/en")
a <- web_page %>% html_nodes(".legend-total")
a
web_page
View(web_page)
View(web_page)
View(web_page)
a <- web_page %>% html_nodes(".uk-text-center")
a
a <- web_page %>% html_nodes(".legend")
a
a <- web_page %>% html_nodes(".uk-first-column")
a
a <- web_page %>% html_nodes("strong .legend")
a
a <- web_page %>% html_nodes(".legend")
a
a <- web_page %>% html_nodes("#__next")
a
View(a)
a <- web_page %>% html_nodes("#__next .legend")
a
a <- web_page %>% html_nodes(".legend")
a
View(web_page)
View(a)
web_page2 <- html_session("https://www.thestar.com.my/news/nation/2020/03/15/um-urges-staff-to-use-e-learning-to-limit-covid-19-spread")
web_page2
web_page2 %>% html_nodes("#story-body")
web_page2 %>% html_nodes("#story-body") %>% html_text()
web_page2 %>% html_nodes("#story-body") %>% html_text()[1]
web_page2 %>% html_nodes("#story-body") %>% html_text()
web_page2 %>% html_nodes("#story-body")
web_page2 %>% html_nodes("#story-body") %>% html_text()
web_page <- read_html("https://www.doctoroncall.com.my/coronavirus")
web_page
confirmed_cases <- web_page %>%
html_node(".stats-number-pink") %>%
html_text() %>%
as.numeric()
confirmed_cases
web_page
View(web_page)
web_page %>% html_nodes(".stats-number-pink") %>% html_text()
confirmed_cases <- web_page %>%
html_nodes(".stats-number-pink") %>%
html_text() %>%
as.numeric()
confirmed_cases <- web_page %>%
html_nodes(".stats-number-pink") %>%
html_text() %>%
as.numeric()
confirmed_cases
web_page %>% html_node(".stats-number-pink") %>% html_text()
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text() %>% as.numeric()
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text()
confirmed_cases
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text()[0]
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text()
confirmed_cases
typeof confirmed_cases
typeof confirmed_cases
"1,183" %>% as.numeric()
as.numeric("1,183")
as.numeric("1183")
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text() %>% as.numeric(sub(",", ".", Input, fixed = TRUE))
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text() %>% as.numeric(sub(",", ".", $1, fixed = TRUE))
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text() %>% as.numeric(sub(",", ".", ., fixed = TRUE))
conrimed_cases
confirmed_cases
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text()
confirmed_cases
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text() %>% as.numeric()
discharged_cases <- web_page %>% html_node(".stats-number-green") %>% html_text() %>% as.numeric()
death_cases <- web_page %>% html_node(".stats-number-grey") %>% html_text() %>% as.numeric()
tbl([confirmed_cases, discharged_cases, death_cases])
tbl(confirmed_cases, discharged_cases, death_cases)
typeof confirmed_cases
data <- c("Confirmed Cases", confirmed_cases, "Discharged Cases", discharged_cases, "Death Cases", death_cases)
data
confirmed_cases <- web_page %>% html_node(".stats-number-pink") %>% html_text()
discharged_cases <- web_page %>% html_node(".stats-number-green") %>% html_text()
death_cases <- web_page %>% html_node(".stats-number-grey") %>% html_text()
data <- c("Confirmed Cases", confirmed_cases, "Discharged Cases", discharged_cases, "Death Cases", death_cases)
dat
data
data <- c("Confirmed Cases", confirmed_cases, "Discharged Cases", discharged_cases, "Death Cases", death_cases)
df <- matrix(data, ncol = 2, byrow = TRUE) %>%  as_tibble()
df
data <- c("Confirmed Cases", confirmed_cases, "Discharged Cases", discharged_cases, "Death Cases", death_cases)
coronavirus_data_frame <- matrix(data, ncol = 2, byrow = TRUE) %>%  as_tibble()
coronavirus_data_frame
